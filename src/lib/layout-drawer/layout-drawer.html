<div *ngFor="let rowConfig of formStaticConfig.groupElements"
     class="ngt-group-wrapper"
     [ngClass]="rowConfig?.classMap"
     [class.ngt-card]="!rowConfig.wrapInExpansionPane && rowConfig.addCardClass">
    <ng-template [ngIf]="rowConfig.wrapInExpansionPane">
        <mat-expansion-panel>
            <mat-expansion-panel-header ngtExpansionPanelToggle
                                        [isExpanded]="rowConfig?.isPanelOpened"
                                        (onToggle)="handleTogglePanel(rowConfig, $event)">
                <mat-panel-title class="ngt-group-title">
                    {{rowConfig.title}}
                </mat-panel-title>
                <mat-panel-description class="ngt-group-description">
                    {{rowConfig.description}}
                </mat-panel-description>
            </mat-expansion-panel-header>

            <ngt-form-elements *ngFor="let rowElements of rowConfig.elements"
                               [formName]="formStaticConfig.name"
                               [parentFormGroup]="parentFormGroup"
                               [outsideDataProviders]="outsideDataProviders"
                               [outsideSharedData]="outsideSharedData"
                               [elements]="rowElements.elementsOnLine">
            </ngt-form-elements>
        </mat-expansion-panel>
    </ng-template>
    <ng-template [ngIf]="!rowConfig.wrapInExpansionPane">
        <div class="ngt-header-wrapper">
            <div class="ngt-group-title">
                {{rowConfig.title}}
            </div>
            <div class="ngt-group-description">
                {{rowConfig.description}}
            </div>
        </div>
        <ngt-form-elements *ngFor="let rowElements of rowConfig.elements"
                           [formName]="formStaticConfig.name"
                           [parentFormGroup]="parentFormGroup"
                           [outsideSharedData]="outsideSharedData"
                           [outsideDataProviders]="outsideDataProviders"
                           [elements]="rowElements.elementsOnLine">
        </ngt-form-elements>
    </ng-template>
</div>