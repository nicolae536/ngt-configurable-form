<div class="reveal">
    <div class="slides">
        <section>
            TODO restructure
            scruta prezentare depre mine
            prezentare a problemei/context
            solutia arhitecturala la nivel general
            +explic cum se normalizeaza(ce e normalizare) layout
            draw.io -> diagrama
            implementare in angular
            componenta + input/output
            schema de date
            sugesti in react + comparere anumite probleme angular/react
            state management problems/like multiple tabs with the same models

            updatat prezentare pe maine
            luni 6 prezentare

            <h2>Configurable forms</h2>
            <h4>Hello my name is Nicu</h4>
            <p>Iâ€™m a frontend developer at yonder.</p>

            <p>In the last 1.5 year I worked with angular on building applications.</p>
            <p>Forms and angular > 2,4.</p>
        </section>

        <section>
            <!--Introduction on how are forms-->
            <!--Standard implementation and how we riched to the the current implementation-->
            <!--What are forms and how they look like-->
            <h2>@angular/forms</h2>
            <p>
                There are two modules FormsModule.
            </p>
            <p>
                Which enables you to do template driven forms.
            </p>
            <p>
                This means that your code will look something like...
                <!--Formular reprezentare vizuala-->
            </p>
        </section>
        <section>
            <h2>FormsModule</h2>

            <pre>
                <code data-trim class="no-overflow">
                    {{codeExamples.templateForms}}
	            </code>
            </pre>
        </section>
        <section>
            <h2>And the typescript code</h2>
            <pre>
                <code data-trim class="no-overflow">
                    {{codeExamples.templateFormTypescript}}
	            </code>
            </pre>
        </section>
        <section>
            <h2>And the ReactiveFormsModule</h2>
            <p>And your code in this case will look something like this</p>
        </section>
        <section>
            <h2>Html</h2>
            <pre>
                <code data-trim class="no-overflow">
                    {{codeExamples.reactiveForms}}
                </code>
            </pre>
        </section>
        <section>
            <h2>And the typescript code</h2>
            <pre>
                <code data-trim class="no-overflow">
                    {{codeExamples.reactiveFormsCode}}
                </code>
            </pre>
        </section>
        <section>
            <h3>Application development</h3>
            <p>We start developing the application, we have the power or creating any form in our hand</p>
            <p>And usually each form we build is different in it's own way</p>
        </section>
        <section>
            <h3>Large applications</h3>
            <p>If the application is big enough in about a year we will reach 300+ components</p>
            <p>And when you look on your repository you see about 70+ being forms</p>
            <!--Application size increased-->
            <!--Ajustare fara mentenanta-->
            <!--Easy overrides mechanism-->
        </section>
        <section>
            <h3>Consequences</h3>
            <p>A lot of code to the client</p>
            <p>We have a lot of maintenance going on and very specific bugs for each implementation</p>
            <p>So probably it's time to optimize and find a solution</p>
        </section>
        <section>
            <h3>Proposed Solution</h3>
            <p>Build a component which supports a json form schema</p>
            <p>Create a core for all common functionality and allow for elements changes</p>
        </section>
        <section>
            <p>So this is the code which we write now</p>
            <pre>
                <code data-trim class="no-overflow">
                    {{codeExamples.solutionExample}}
                </code>
            </pre>
        </section>
        <section>
            <section>
                <h3>Architectural pattern</h3>
                <p>Each time the configuration changes it goes to a normalization process</p>
                <p>All the elements which have a state in the form object are moved in a map</p>
                <p>FormControls are initialized</p>
                <a href="#" class="navigate-down enabled">
                </a>
            </section>
            <section class="future">
                <h3>Architectural pattern</h3>
                <p>After all controls are created the validators are fetched</p>
                <p>The current json is checked for all "configuration changes" and those are applyed to the current schema</p>
                <p>The form is rendered in the view</p>
            </section>
            <select class="future">
                !!!poza arhitectura!!!
            </select>
            <section class="future">
                <h3>Architectural pattern</h3>
                <p>Updates from parents must not trigger events</p>
                <p>Only real user/machine updates should trigger output events</p>
                <p>The configuration must always be stabilized in only one pass</p>
                <p>Controls configuration changes are handled by each control, a control can listen to another control but it can change only
                    it's own configuration</p>
            </section>
            <section class="future">
                <h3>Architectural pattern</h3>
                <p>How we managed to make the component stateful and redux compatible</p>
                <p>We make a clear difference between redux state changes and component state changes</p>
                <p>So if the component changed even the new state from redux does not need to be fetched</p>
                <p>We rerender the view only when we know that there is no change triggered by the component</p>
            </section>
        </section>

        <section>
            <section>
                <h3>Current features</h3>
                <p>Render from a configuration</p>
                <p>Add existing validators to elements and also provide custom validators using a service</p>
                <p>Provide data to elements using observables also listen to element data changes</p>
                <p>Wrap elements in cards/expansion panes</p>
                <a href="#" class="navigate-down enabled"></a>
            </section>
            <section class="future">
                <h3>Current features</h3>
                <p>Support for field linking</p>
                <p>The component works with ChangeDetectionStrategy.OnPush</p>
                <p>Full support for redux</p>
            </section>
        </section>

        <section>
            <h3>Coming next</h3>
            <p>Unit testing and e2e testing</p>
            <p>A bundle with the component in npm</p>
            <p>Configuration changes at group level</p>
            <p>Render an array of elements as a subgroup to the form</p>
        </section>
        <section>
            <h3>Benefits</h3>
            <p>Only one component manages the forms in our app</p>
            <p>Easy to track bugs related to forms</p>
            <p>Fast ui prototyping</p>
            <p>Less js code to the client</p>
        </section>
        <section>
            <h3>Q&A</h3>
        </section>
    </div>
</div>
